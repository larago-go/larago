import{u as f,d as h,r as _,o as s,c as l,e,t as x,f as v,w,g as n,v as i,a as d,h as y,i as u,j as b,k as c}from"./index-8eb781de.js";import{r as k}from"./LockClosedIcon-e55975ab.js";const S={class:"min-h-full flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},N={class:"max-w-md w-full space-y-8"},V=e("div",null,[e("img",{class:"mx-auto h-12 w-auto",src:"https://github.com/larago-go/larago/raw/master/larago-logo_git.png",alt:"Workflow"}),e("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"},"Sign in to your account")],-1),z={key:0,class:"flex p-4 mb-4 text-sm text-red-700 bg-red-100 rounded-lg dark:bg-red-200 dark:text-red-800",role:"alert"},B=e("svg",{class:"inline flex-shrink-0 mr-3 w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})],-1),C={class:"font-medium"},I=["onSubmit"],M={class:"rounded-md shadow-sm -space-y-px"},j=e("label",{for:"email-address",class:"sr-only"},"Email address",-1),E=e("label",{for:"password",class:"sr-only"},"Password",-1),J={type:"submit",class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},O={class:"absolute left-0 inset-y-0 flex items-center pl-3"},T={__name:"LoginAuth",setup(q){const m=f(),t=h({error:"",form:{email:"",password:""}});(()=>{try{c.get("/auth/api/login").then(o=>{o.data.error!=null&&(t.value.error=o.data.error)})}catch(o){console.log(o)}})();const p=()=>{try{c.post("/auth/signin",t.value.form).then(o=>{localStorage.setItem("token",o.data.token),localStorage.setItem("user_name",JSON.stringify(o.data.user_name)),localStorage.setItem("user_id",JSON.stringify(o.data.user_id)),localStorage.setItem("user_email",JSON.stringify(o.data.user_email)),m.push({name:"home"})})}catch(o){t.value.error=o}};return(o,r)=>{const g=_("router-link");return s(),l("div",S,[e("div",N,[V,t.value.error?(s(),l("div",z,[B,e("div",null,[e("span",C,x(t.value.error),1)])])):v("",!0),e("form",{class:"mt-8 space-y-6",onSubmit:w(p,["prevent"])},[e("div",M,[e("div",null,[j,n(e("input",{id:"email-address",name:"email","onUpdate:modelValue":r[0]||(r[0]=a=>t.value.form.email=a),type:"email",autocomplete:"email",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address"},null,512),[[i,t.value.form.email]])]),e("div",null,[E,n(e("input",{id:"password",name:"password","onUpdate:modelValue":r[1]||(r[1]=a=>t.value.form.password=a),type:"password",autocomplete:"current-password",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password"},null,512),[[i,t.value.form.password]])])]),e("div",null,[e("button",J,[e("span",O,[d(y(k),{class:"h-5 w-5 text-indigo-500 group-hover:text-indigo-400","aria-hidden":"true"})]),u(" Sign in ")]),d(g,{to:"/login/forgot_password"},{default:b(()=>[u("Reset password")]),_:1})])],40,I)])])}}};export{T as default};
