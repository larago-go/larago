import{u as m,d as p,o as n,c as d,e,t as g,f,w as h,g as s,v as l,a as x,h as v,i as y,k as i}from"./index-8eb781de.js";import{r as _}from"./LockClosedIcon-e55975ab.js";const w={class:"min-h-full flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},b={class:"max-w-md w-full space-y-8"},k=e("div",null,[e("img",{class:"mx-auto h-12 w-auto",src:"https://github.com/larago-go/larago/raw/master/larago-logo_git.png",alt:"Workflow"}),e("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"},"Sign up your account")],-1),S={key:0,class:"flex p-4 mb-4 text-sm text-red-700 bg-red-100 rounded-lg dark:bg-red-200 dark:text-red-800",role:"alert"},N=e("svg",{class:"inline flex-shrink-0 mr-3 w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})],-1),V={class:"font-medium"},z=["onSubmit"],B={class:"rounded-md shadow-sm -space-y-px"},I=e("label",{for:"name",class:"sr-only"},"Name",-1),M=e("label",{for:"email-address",class:"sr-only"},"Email address",-1),q=e("label",{for:"password",class:"sr-only"},"Password",-1),E={type:"submit",class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},J={class:"absolute left-0 inset-y-0 flex items-center pl-3"},D={__name:"RegisterAuth",setup(O){const u=m(),r=p({error:"",form:{name:"",email:"",password:""}});(()=>{try{i.get("/auth/api/register").then(o=>{o.data.error!=null&&(r.value.error=o.data.error)})}catch(o){console.log(o)}})();const c=()=>{try{i.post("/auth/signup",r.value.form).then(o=>{localStorage.setItem("token",o.data.token),localStorage.setItem("user_name",JSON.stringify(o.data.user_name)),localStorage.setItem("user_id",JSON.stringify(o.data.user_id)),localStorage.setItem("user_email",JSON.stringify(o.data.user_email)),u.push({name:"login"})})}catch(o){r.value.error=o}};return(o,t)=>(n(),d("div",w,[e("div",b,[k,r.value.error?(n(),d("div",S,[N,e("div",null,[e("span",V,g(r.value.error),1)])])):f("",!0),e("form",{class:"mt-8 space-y-6",onSubmit:h(c,["prevent"])},[e("div",B,[e("div",null,[I,s(e("input",{id:"name",name:"name","onUpdate:modelValue":t[0]||(t[0]=a=>r.value.form.name=a),type:"text",autocomplete:"name",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Name"},null,512),[[l,r.value.form.name]])]),e("div",null,[M,s(e("input",{id:"email-address",name:"email","onUpdate:modelValue":t[1]||(t[1]=a=>r.value.form.email=a),type:"email",autocomplete:"email",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address"},null,512),[[l,r.value.form.email]])]),e("div",null,[q,s(e("input",{id:"password",name:"password","onUpdate:modelValue":t[2]||(t[2]=a=>r.value.form.password=a),type:"password",autocomplete:"current-password",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password"},null,512),[[l,r.value.form.password]])])]),e("div",null,[e("button",E,[e("span",J,[x(v(_),{class:"h-5 w-5 text-indigo-500 group-hover:text-indigo-400","aria-hidden":"true"})]),y(" Sign up ")])])],40,z)])]))}};export{D as default};
