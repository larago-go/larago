import{P as u,D as b}from"./dataTables.dateTime-d8668118.js";import{u as h,d as c,p as x,o as n,c as l,e as t,a as o,n as k,t as y,h as w,k as m}from"./index-8eb781de.js";import{_ as B,a as D,F as C}from"./FooterAdmin-d2f58c87.js";import"./_plugin-vue_export-helper-c27b6911.js";const I={class:"leading-normal tracking-normal",id:"main-body"},z={class:"flex flex-wrap"},E={class:"p-6 bg-gray-100 mb-20"},U={class:"py-12"},L={key:0,class:"flex p-4 mb-4 text-sm text-red-700 bg-red-100 rounded-lg dark:bg-red-200 dark:text-red-800",role:"alert"},M=t("svg",{class:"inline flex-shrink-0 mr-3 w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})],-1),N={class:"font-medium"},O={key:1,class:"p-8 mt-6 lg:mt-0 rounded shadow bg-white"},P={__name:"UsersList",setup(R){let r;u.use(b);const i=h(),s=c({lists:[],session_name:"",error:""}),d=c();(()=>{try{m.get("/users/api/list").then(e=>{e.data.error!=null?s.value.error=e.data.error:(s.value.session_name=e.data.session_name,s.value.lists=e.data.list)})}catch(e){console.log(e)}})();const g=e=>{m.delete("/users/api/list/"+e+"/delete"),window.location.href="/users/list"};x(function(){r=d.value.dt});const _=[{data:"Name",title:"Username"},{data:"Email",title:"Email"},{data:"Role",title:"Role"}];function f(){i.push({name:"users_add"})}function v(){r.rows({selected:!0}).every(function(){const e=s.value.lists.indexOf(this.data()),a=r.row(e).data().ID;i.push({name:"users_list_prev",params:{id:a}})})}function p(){r.rows({selected:!0}).every(function(){const e=s.value.lists.indexOf(this.data()),a=r.row(e).data().ID;g(a)})}return(e,a)=>(n(),l("div",I,[t("div",z,[o(B),t("div",{class:k(["w-full bg-gray-100 pl-0 lg:pl-64 min-h-screen",e.sideBarOpen?"overlay":""]),id:"main-content"},[o(D),t("div",E,[t("div",U,[s.value.error?(n(),l("div",L,[M,t("div",null,[t("span",N,y(s.value.error),1)])])):(n(),l("div",O,[t("button",{onClick:f,type:"button",class:"focus:outline-none text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800"},"Add"),t("button",{onClick:v,type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"},"Edit"),t("button",{onClick:p,type:"button",class:"focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900"},"Delete"),o(w(u),{columns:_,data:s.value.lists,class:"stripe hover",width:"100%",options:{select:!0,dom:"QlfrtipB"},ref_key:"table",ref:d},null,8,["data"])]))])]),o(C)],2)])]))}};export{P as default};
