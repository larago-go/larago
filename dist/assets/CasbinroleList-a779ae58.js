import{P as d,D as h}from"./dataTables.dateTime-d8668118.js";import{u as p,d as c,p as b,o as r,c as n,e as t,a,n as x,t as y,h as k,k as u}from"./index-8eb781de.js";import{_ as w,a as C,F as B}from"./FooterAdmin-d2f58c87.js";import"./_plugin-vue_export-helper-c27b6911.js";const D={class:"leading-normal tracking-normal",id:"main-body"},M={class:"flex flex-wrap"},z={class:"p-6 bg-gray-100 mb-20"},N={class:"py-12"},I={key:0,class:"flex p-4 mb-4 text-sm text-red-700 bg-red-100 rounded-lg dark:bg-red-200 dark:text-red-800",role:"alert"},L=t("svg",{class:"inline flex-shrink-0 mr-3 w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})],-1),P={class:"font-medium"},R={key:1,class:"p-8 mt-6 lg:mt-0 rounded shadow bg-white"},H={__name:"CasbinroleList",setup(A){let o;d.use(h);const m=p(),s=c({lists:[],session_id:"",session_name:"",error:""}),l=c();(()=>{try{u.get("/role/api/list").then(e=>{e.data.error!=null?s.value.error=e.data.error:(s.value.session_id=e.data.session_id,s.value.session_name=e.data.session_name,s.value.lists=e.data.list)})}catch(e){console.log(e)}})();function _(e){u.delete("/role/api/list/"+e+"/delete"),window.location.href="/role/list"}b(function(){o=l.value.dt});const g=[{data:"RoleName",title:"RoleName"},{data:"Path",title:"Path"},{data:"Method",title:"Method"}];function f(){m.push({name:"role_add"})}function v(){o.rows({selected:!0}).every(function(){const e=s.value.lists.indexOf(this.data()),i=o.row(e).data().ID;_(i)})}return(e,i)=>(r(),n("div",D,[t("div",M,[a(w),t("div",{class:x(["w-full bg-gray-100 pl-0 lg:pl-64 min-h-screen",e.sideBarOpen?"overlay":""]),id:"main-content"},[a(C),t("div",z,[t("div",N,[s.value.error?(r(),n("div",I,[L,t("div",null,[t("span",P,y(s.value.error),1)])])):(r(),n("div",R,[t("button",{onClick:f,type:"button",class:"focus:outline-none text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800"},"Add"),t("button",{onClick:v,type:"button",class:"focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900"},"Delete"),a(k(d),{columns:g,data:s.value.lists,class:"stripe hover",width:"100%",options:{select:!0,dom:"Qlfrtip"},ref_key:"table",ref:l},null,8,["data"])]))])]),a(B)],2)])]))}};export{H as default};
