function o(){let i=[],r=[],n={enqueue(e){r.push(e)},addEventListener(e,t,a,s){return e.addEventListener(t,a,s),n.add(()=>e.removeEventListener(t,a,s))},requestAnimationFrame(...e){let t=requestAnimationFrame(...e);n.add(()=>cancelAnimationFrame(t))},nextFrame(...e){n.requestAnimationFrame(()=>{n.requestAnimationFrame(...e)})},setTimeout(...e){let t=setTimeout(...e);n.add(()=>clearTimeout(t))},add(e){i.push(e)},style(e,t,a){let s=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:a}),this.add(()=>{Object.assign(e.style,{[t]:s})})},dispose(){for(let e of i.splice(0))e()},async workQueue(){for(let e of r.splice(0))await e()}};return n}export{o as disposables};
